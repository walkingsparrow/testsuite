<?xml version='1.0' encoding='UTF-8'?>
<test_suites>
    <test_type>feature</test_type>
    <multi_test_suites>
        <algorithm>logistic_regression</algorithm>
        <methods>
            <method>
                <name>logregr</name>
                <parameter>
                    <name>benchmark</name>
                    <value>TemplateExecutor</value>
                </parameter>
            </method>
        </methods>

        <test_suite>
            <name>logistic_regression_baseline</name>
            <comments>It is to get baseline of logistic regression against R.</comments>
            <!-- It indicate max execution times-->
            <execute_rate>1</execute_rate>
            <method>
                <name>logregr</name>
                <list_parameter>
                    <name>source_table</name>
                    <value>madlibtestdata.log_breast_cancer_wisconsin</value>
                    <value>madlibtestdata.log_ticdata2000</value>
                    <value>madlibtestdata.log_wdbc</value>
                    <value>madlibtestdata.log_wpbc</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                    <parameter>
                        <name>dependent_varname</name>
                        <value>y</value>
                    </parameter>
                    <parameter>
                        <name>independent_varname</name>
                        <value>x</value>
                    </parameter>
                   </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>
            <method>
                <name>logregr_grouping</name>
                <list_parameter>
                    <name>source_table</name>
                    <value>madlibtestdata.log_breast_cancer_wisconsin</value>
                    <value>madlibtestdata.log_ticdata2000</value>
                    <value>madlibtestdata.log_wdbc</value>
                    <value>madlibtestdata.log_wpbc</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                    <parameter>
                        <name>dependent_varname</name>
                        <value>y</value>
                    </parameter>
                    <parameter>
                        <name>independent_varname</name>
                        <value>x</value>
                    </parameter>
                    <parameter>
                        <name>grouping_cols</name>
                        <value>NULL</value>
                    </parameter>
                    <parameter>
                        <name>max_iteration</name>
                        <value>20</value>
                    </parameter>
                    <parameter>
                        <name>optimizer</name>
                        <value>irls</value>
                    </parameter>
                    <parameter>
                        <name>convergence_threshold</name>
                        <value>0.0001</value>
                    </parameter>
                </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>
        </test_suite>

        <test_suite>
            <name>logistic_regression_negative_source_table</name>
            <comments>It is to test negative scenarios of logistic regression.</comments>
            <!-- It indicate max execution times-->
            <execute_rate>1</execute_rate>
            <method>
                <name>logregr_grouping</name>
                <list_parameter>
                    <name>source_table</name>
                    <value>madlibtestdata.log_noobservation</value>
                    <value>non_existing_source_table</value>
                    <value>EMPTY</value>
                    <value>NULL</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                    <parameter>
                        <name>dependent_varname</name>
                        <value>y</value>
                    </parameter>
                    <parameter>
                        <name>independent_varname</name>
                        <value>x</value>
                    </parameter>
                    <parameter>
                        <name>grouping_cols</name>
                        <value>NULL</value>
                    </parameter>
                    <parameter>
                        <name>max_iteration</name>
                        <value>20</value>
                    </parameter>
                    <parameter>
                        <name>optimizer</name>
                        <value>irls</value>
                    </parameter>
                    <parameter>
                        <name>convergence_threshold</name>
                        <value>0.0001</value>
                    </parameter>
                </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>
            <method>
                <name>logregr_grouping</name>
                <list_parameter>
                    <name>source_table</name>
                    <value>madlibtestdata.log_noobservation</value>
                    <value>non_existing_source_table</value>
                    <value>EMPTY</value>
                    <value>NULL</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                    <parameter>
                        <name>dependent_varname</name>
                        <value>y</value>
                    </parameter>
                    <parameter>
                        <name>independent_varname</name>
                        <value>x</value>
                    </parameter>
                    <parameter>
                        <name>grouping_cols</name>
                        <value>NULL</value>
                    </parameter>
                    <parameter>
                        <name>max_iteration</name>
                        <value>20</value>
                    </parameter>
                    <parameter>
                        <name>optimizer</name>
                        <value>irls</value>
                    </parameter>
                    <parameter>
                        <name>convergence_threshold</name>
                        <value>0.0001</value>
                    </parameter>
                </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>
        </test_suite>

        <test_suite>
            <name>logistic_regression_negative_dependent_varname</name>
            <comments>It is to test negative scenarios of logistic regression.</comments>
            <!-- It indicate max execution times-->
            <execute_rate>1</execute_rate>
            <method>
                <name>logregr_grouping</name>
                <list_parameter>
                    <name>dependent_varname</name>
                    <value>non_existing_dependent_varname</value>
                    <value>EMPTY</value>
                    <value>NULL</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                    <parameter>
                        <name>source_table</name>
                        <value>madlibtestdata.log_breast_cancer_wisconsin</value>
                    </parameter>
                    <parameter>
                        <name>independent_varname</name>
                        <value>x</value>
                    </parameter>
                    <parameter>
                        <name>grouping_cols</name>
                        <value>NULL</value>
                    </parameter>
                    <parameter>
                        <name>max_iteration</name>
                        <value>20</value>
                    </parameter>
                    <parameter>
                        <name>optimizer</name>
                        <value>irls</value>
                    </parameter>
                    <parameter>
                        <name>convergence_threshold</name>
                        <value>0.0001</value>
                    </parameter>
                </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>
        </test_suite>

        <test_suite>
            <name>logistic_regression_negative_independent_varname</name>
            <comments>It is to test negative scenarios of logistic regression.</comments>
            <!-- It indicate max execution times-->
            <execute_rate>1</execute_rate>
            <method>
                <name>logregr_grouping</name>
                <list_parameter>
                    <name>independent_varname</name>
                    <value>non_existing_independent_varname</value><value>EMPTY</value><value>NULL</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                    <parameter>

                        <name>source_table</name>
                        <value>madlibtestdata.log_breast_cancer_wisconsin</value>
                    </parameter>
                    <parameter>
                        <name>dependent_varname</name>
                        <value>y</value>
                    </parameter>
                     <parameter>
                        <name>independent_varname</name>
                        <value>x</value>
                    </parameter>
                    <parameter>
                        <name>grouping_cols</name>
                        <value>NULL</value>
                    </parameter>
                    <parameter>
                        <name>max_iteration</name>
                        <value>20</value>
                    </parameter>
                    <parameter>
                        <name>optimizer</name>
                        <value>irls</value>
                    </parameter>
                    <parameter>
                        <name>convergence_threshold</name>
                        <value>0.0001</value>
                    </parameter>
                </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>
        </test_suite>
        <test_suite>
            <name>logistic_regression_negative_grouping</name>
            <comments>It is to test negative scenarios of logistic regression.</comments>
            <!-- It indicate max execution times-->
            <execute_rate>1</execute_rate>
            <method>
                <name>logregr_grouping</name>
                <list_parameter>
                    <name>grouping_cols</name>
                    <value>invalid_cols</value>
                    <value>EMPTY</value>
                    <value>'NULL'</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                    <parameter>
                        <name>source_table</name>
                        <value>madlibtestdata.lin_ornstein</value>
                    </parameter>
                    <parameter>
                        <name>dependent_varname</name>
                        <value>'interlocks > 10'</value>
                    </parameter>
                    <parameter>
                        <name>independent_varname</name>
                        <value>'ARRAY[1, assets, sector]'</value>
                    </parameter>
                    <parameter>
                        <name>optimizer</name>
                        <value>igd</value>
                    </parameter>
                    <parameter>
                        <name>max_iteration</name>
                        <value>20</value>
                    </parameter>
                    <parameter>
                        <name>convergence_threshold</name>
                        <value>0.0001</value>
                    </parameter>
                </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>

        </test_suite>
        <test_suite>
            <name>logistic_regression_negative_max_iteration</name>
            <comments>It is to test negative scenarios of logistic regression.</comments>
            <!-- It indicate max execution times-->
            <execute_rate>1</execute_rate>
            <method>
                <name>logregr_grouping</name>
                <list_parameter>
                    <name>max_iteration</name>
                    <value>-1</value>
                    <value>0</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                    <parameter>
                        <name>source_table</name>
                        <value>madlibtestdata.log_breast_cancer_wisconsin</value>
                    </parameter>
                    <parameter>
                        <name>dependent_varname</name>
                        <value>y</value>
                    </parameter>
                    <parameter>
                        <name>independent_varname</name>
                        <value>x</value>
                    </parameter>
                    <parameter>
                        <name>grouping_cols</name>
                        <value>NULL</value>
                    </parameter>
                    <parameter>
                        <name>optimizer</name>
                        <value>irls</value>
                    </parameter>
                    <parameter>
                        <name>convergence_threshold</name>
                        <value>0.0001</value>
                    </parameter>
                </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>
        </test_suite>
        <test_suite>
            <name>logistic_regression_negative_optimizer</name>
            <comments>It is to test negative scenarios of logistic regression.</comments>
            <!-- It indicate max execution times-->
            <execute_rate>1</execute_rate>
            <method>
                <name>logregr_grouping</name>
                <list_parameter>
                    <name>optimizer</name>
                    <value>invalid_optimizer</value>
                    <value>EMPTY</value>
                    <value>NULL</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                   <parameter>
                        <name>source_table</name>
                        <value>madlibtestdata.lin_ornstein</value>
                    </parameter>
                    <parameter>
                        <name>dependent_varname</name>
                        <value>'interlocks > 10'</value>
                    </parameter>
                    <parameter>
                        <name>independent_varname</name>
                        <value>'ARRAY[1, assets, sector]'</value>
                    </parameter>
                    <parameter>
                        <name>grouping_cols</name>
                        <value>NULL</value>
                    </parameter>
                    <parameter>
                        <name>max_iteration</name>
                        <value>20</value>
                    </parameter>
                    <parameter>
                        <name>convergence_threshold</name>
                        <value>0.0001</value>
                    </parameter>
                </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>
        </test_suite>

        <test_suite>
            <name>logistic_regression_negative_convergence_threshold</name>
            <comments>It is to test negative scenarios of logistic regression.</comments>
            <!-- It indicate max execution times-->
            <execute_rate>1</execute_rate>
            <method>
                <name>logregr_grouping</name>
                <list_parameter>
                    <name>convergence_threshold</name>
                    <value>-1</value>
                    <value>-0.0001</value>
                </list_parameter>
                <parameters>
                    <parameter>
                        <name>out_table</name>
                        <value>logregr_out</value>
                    </parameter>
                    <parameter>
                        <name>source_table</name>
                        <value>madlibtestdata.log_breast_cancer_wisconsin</value>
                    </parameter>
                    <parameter>
                        <name>dependent_varname</name>
                        <value>y</value>
                    </parameter>
                    <parameter>
                        <name>independent_varname</name>
                        <value>x</value>
                    </parameter>
                    <parameter>
                        <name>grouping_cols</name>
                        <value>NULL</value>
                    </parameter>

                    <parameter>
                        <name>max_iteration</name>
                        <value>20</value>
                    </parameter>
                    <parameter>
                        <name>optimizer</name>
                        <value>irls</value>
                    </parameter>
                </parameters>
                <tear_down>
                    DROP TABLE IF EXISTS logregr_out;
                </tear_down>
            </method>
        </test_suite>
    </multi_test_suites>
</test_suites>
